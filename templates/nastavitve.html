{% extends "base.html" %}
{% block content %}

<h1>Nastavitve</h1>
<hr>

<!-- Nav Tabs -->
<ul class="nav nav-tabs" id="settingsTabs" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="competition-tab" data-toggle="tab" href="#competition" role="tab">CompetitionType</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="style-tab" data-toggle="tab" href="#style" role="tab">Style</a>
  </li>
</ul>

<!-- Tab Content -->
<div class="tab-content mt-3">

  <!-- =====================
       Tab 1: CompetitionType
       ===================== -->
  <div class="tab-pane fade show active" id="competition" role="tabpanel">

    <!-- New Button -->
    <div class="mb-3">
        <button class="btn btn-success" data-toggle="modal" data-target="#newCompetitionModal">
            + New CompetitionType
        </button>
    </div>

    <!-- Tabela CompetitionType -->
    <div style="max-width: 600px;">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ime</th>
                <th>Akcija</th>
            </tr>
        </thead>
        <tbody>
        {% for item in competition_items %}
            <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.name }}</td>
                <td>
                    <button class="btn btn-sm btn-primary" data-toggle="modal" data-target="#editCompetitionModal" data-id="{{ item.id }}" data-name="{{ item.name }}">Edit</button>
                    <button class="btn btn-sm btn-danger" data-toggle="modal" data-target="#deleteCompetitionModal" data-id="{{ item.id }}" data-name="{{ item.name }}">Delete</button>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>

  </div>

  <!-- =====================
       Tab 2: Style
       ===================== -->
  <div class="tab-pane fade" id="style" role="tabpanel">

    <!-- New Button -->
    <div class="mb-3">
        <button class="btn btn-success" data-toggle="modal" data-target="#newStyleModal">
            + New Style
        </button>
    </div>

    <!-- Tabela Style -->
    <div style="max-width: 600px;">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ime</th>
                <th>Akcija</th>
            </tr>
        </thead>
        <tbody>
        {% for item in style_items %}
            <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.name }}</td>
                <td>
                    <button class="btn btn-sm btn-primary" data-toggle="modal" data-target="#editStyleModal" data-id="{{ item.id }}" data-name="{{ item.name }}">Edit</button>
                    <button class="btn btn-sm btn-danger" data-toggle="modal" data-target="#deleteStyleModal" data-id="{{ item.id }}" data-name="{{ item.name }}">Delete</button>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>

  </div>

</div>

<!-- =====================
     Modal windows
     ===================== -->

<!-- CompetitionType New/Edit/Delete modali (isti kot prej) -->
{% include 'modals/competition_type_modals.html' %}

<!-- Style New/Edit/Delete modali -->
{% include 'modals/style_modals.html' %}

<!-- JS za modals logic (duplicates, action, etc.) -->
{% include 'modals/modal_logic.html' %}

{% endblock %}
